<!DOCTYPE html>
<html lang="zxx">

<head>
  <meta charset="UTF-8" />
  <meta name="description" content="member_reservation" />
  <meta name="keywords" content="Cake, unica, creative, html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>管理員 | 廣告管理</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet" />

  <!-- Css Styles -->
  <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="css/flaticon.css" type="text/css" />
  <link rel="stylesheet" href="css/barfiller.css" type="text/css" />
  <link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
  <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="css/elegant-icons.css" type="text/css" />
  <link rel="stylesheet" href="css/nice-select.css" type="text/css" />
  <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css" />
  <link rel="stylesheet" href="css/slicknav.min.css" type="text/css" />
  <link rel="stylesheet" href="css/style.css" type="text/css" />
  <link rel="stylesheet" href="css/fontawesome_6.2.0.css" type="text/css" />
  <!-- <link rel="stylesheet" href="css/reservation.css" type="text/css" /> -->
  <!-- <link rel="stylesheet" href="css/member_page_overview.css" type="text/css" /> -->
  <!-- <link rel="stylesheet" href="css/alice_style.css" type="text/css" /> -->
</head>
<style>
  .nice-select {
    width: 80%;
  }

  .table-responsive::-webkit-scrollbar {
    display: none;
    /* Safari and Chrome */
  }
</style>

<body>
  <!-- Page Preloder -->
  <div id="preloder">
    <div class="loader"></div>
  </div>

  <!-- Offcanvas Menu Begin -->
  <div class="offcanvas-menu-overlay"></div>
  <div class="offcanvas-menu-wrapper">
    <div class="offcanvas__cart">
      <div class="offcanvas__cart__links">
        <a href="#" class="search-switch"><img src="img/icon/search.png" alt="" /></a>
        <a href="#"><img src="img/icon/heart.png" alt="" /></a>
      </div>
      <div class="offcanvas__cart__item">
        <a href="#"><img src="img/icon/cart.png" alt="" /> <span>0</span></a>
        <div class="cart__price">Cart: <span>$0.00</span></div>
      </div>
    </div>
    <div class="offcanvas__logo">
      <a href="./GoodEatTime.html"><img class="GoodEatTimelogo" src="/img/GoodEatTime_smlogo.png" alt="" /></a>
    </div>
    <div id="mobile-menu-wrap"></div>
    <div class="offcanvas__option">
      <ul>
        <li>
          USD <span class="arrow_carrot-down"></span>
          <ul>
            <li>EUR</li>
            <li>USD</li>
          </ul>
        </li>
        <li>
          ENG <span class="arrow_carrot-down"></span>
          <ul>
            <li>Spanish</li>
            <li>ENG</li>
          </ul>
        </li>
        <li>
          <a href="#">Sign in</a> <span class="arrow_carrot-down"></span>
        </li>
      </ul>
    </div>
  </div>
  <!-- Offcanvas Menu End -->

  <!-- Header Section Begin -->
  <header class="header">
    <div class="header__top">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="header__top__inner">
              <div class="header__top__left">
                <ul>
                  <li>
                    <img class="login_icon" src="./img/Login_icon.png" /><a class="login_text" href="#">登入</a>
                  </li>
                </ul>
              </div>
              <div class="header__logo">
                <a href="./GoodEatTime.html"><img class="goodeattime_logo" src="img/GoodEatTime_logoright.png"
                    alt="" /></a>
              </div>
              <div class="header__top__right">
                <div class="header__top__right__links">
                  <a href="" class="search-switch"><img src="img/icon/search.png" alt="" /></a>
                  <a href="#"><img src="img/icon/heart.png" alt="" /></a>
                </div>
                <div class="header__top__right__cart">
                  <a href="#"><img src="img/icon/cart.png" alt="" /> <span>0</span></a>
                  <div class="cart__price">Cart: <span>$0.00</span></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="canvas__open"><i class="fa fa-bars"></i></div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <nav class="header__menu mobile-menu">
            <ul>
              <li class="active">
                <a href="./G3_alice_admin_overview.html">首頁</a>
              </li>
              <li><a href="./G3_alice_admin_overview.html">管理員</a></li>
              <li>
                <a href="./G3_alice_admin_userAccount_management_消費者.html">消費者資料審核</a>
              </li>
              <li>
                <a href="./G3_alice_admin_userAccount_management_餐廳.html.html">餐廳資料審核</a>
              </li>
              <li>
                <a href="#">關於我們</a>
                <ul class="dropdown">
                  <li><a href="./shop-details.html">Shop Details</a></li>
                  <li><a href="./shoping-cart.html">Shoping Cart</a></li>
                  <li><a href="./checkout.html">Check Out</a></li>
                  <li><a href="./wisslist.html">Wisslist</a></li>
                  <li><a href="./Class.html">Class</a></li>
                  <li><a href="./blog-details.html">Blog Details</a></li>
                </ul>
              </li>
              <li>
                <a href="./G3_alice_adOrder_admin.html">廣告訂單審核</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </header>
  <!-- Header Section End -->

  <!-- Class Section Begin -->
  <section class="class">
    <!-- <div class="container"> -->
    <div class="row" id="member">
      <!-- <div class="col-lg-2" id="left"> -->
      <div class="col-lg-2" id="left">
        <nav class=" header__menu mobile-menu" id="aaa">
          <ul>
            <li class=""><a href="./G3_alice_admin_overview.html">總覽</a></li>
            <li class=""><a href="./G3_alice_admin_userAccount_management_消費者.html">消費者資料審核</a></li>
            <li class=""><a href="./G3_alice_admin_userAccount_management_餐廳.html.html">餐廳會員資料審核</a></li>
            <li class=""><a href="./G3_alice_adOrder_admin.html">廣告訂單審核</a></li>
          </ul>
        </nav>
      </div>
      <div class="col-lg-10" style="background-color:white;height:auto;">
        <div class="row-col-12"
          style="align-items:center; display: grid;justify-content:left;height:auto; margin-top: 20px;margin-left: 5px;">
          <input type="search" class="membership_search" data-table="userNo-table" placeholder="輸入欲查詢之資料"
            style="width: 200px; padding:7px; border-radius: 8px; box-shadow: 5px 5px 2px #FFD382;">
        </div>
        <div class="table-responsive" style="margin-top:20px">
          <table class="userNo-table table" width="100%" style="table-layout:fixed;">
            <thead align="center">
              <tr>
                <th align="center" style="border:3px #FFD382 dashed; width:90px">訂單No</th>
                <th align="center" style="border:3px #FFD382 dashed; width:90px">餐廳No</th>
                <th align="center" style="border:3px #FFD382 dashed; width:100px">管理員No</th>
                <th align="center" style="border:3px #FFD382 dashed; width:200px">申請日期</th>
                <th align="center" style="border:3px #FFD382 dashed; width:200px">開始時間</th>
                <th align="center" style="border:3px #FFD382 dashed; width:200px">結束時間</th>
                <th align="center" style="border:3px #FFD382 dashed; width:100px">訂單價格</th>
                <th align="center" style="border:3px #FFD382 dashed; width:105px">審核狀態</th>
                <th align="center" style="border:3px #FFD382 dashed; width:200px">審核備註</th>
                <th align="center" style="border:0px  dashed; width:200px"></th>
                <!-- <th align="center" style="border:3px #FFD382 dashed;"></th> -->
              </tr>
            </thead>
            <tbody id="shipData">
              <tr align="center">
                <td>讀取中</td>
                <td>讀取中</td>
                <td>讀取中</td>
                <td>讀取中</td>
                <td>讀取中</td>
                <td>讀取中</td>
                <td>讀取中</td>
                <td>讀取中</td>
                <td>讀取中</td>
                <td>
                  <input type="button" id="edit_btn" class="btn btn-light" value="編輯" onclick="showButtonEvent()"
                    style="width: auto; padding:2px; border-radius: 8px; box-shadow: 3px 3px 1px #FFD382;">
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>

    <tbody id="reserve">
    </tbody>
    </table>
    </div>

    </div>
    </div>
    </div>
  </section>

  <!-- Class Section End -->

  <!-- Footer Section Begin -->
  <footer class="footer set-bg" data-setbg="img/footer_bg.jpg">
    <div class="mask">
      <div>
        <div class="row">
          <div class="col-lg-3 col-md-3 col-sm-3">
            <div class="footer__member">
              <h6>會員專區</h6>
              <div class="footer__social">
                <!-- @Footer連結請更改 -->
                <a href="./j_signin_member3.html">登入會員<i></i></a>
                <a href="./member_reservation.html">訂位管理<i></i></a>
                <br />
                <a href="./j_registration_member3.html">加入會員<i></i></a>
                <a href="./member_order.html">訂單管理<i></i></a>
                <br />
                <a href="./coupon_member.html">優惠券<i></i></a>
                <a href="./member_comment.html">我的評論<i></i></a>
              </div>
            </div>
          </div>
          <div class="col-lg-2 col-md-3 col-sm-3">
            <div class="footer__restaurant">
              <h6>餐廳</h6>
              <div class="footer__social">
                <!-- @這裡不確定要連去哪裡... -->
                <a href="#">訂位<i></i></a>
                <br />
                <a href="#">購物車<i></i></a>
              </div>
            </div>
          </div>
          <div class="col-lg-2 col-md-3 col-sm-3">
            <div class="footer__shopping">
              <h6>線上商城</h6>
              <div class="footer__social">
                <!-- @Footer連結請更改 -->
                <a href="./shopping_mall.html">商品搜尋<i></i></a>
                <br />
                <a href="./shopping_cart.html">購物車<i></i></a>
              </div>
            </div>
          </div>
          <div class="col-lg-2 col-md-3 col-sm-3">
            <div class="footer__aboutus">
              <h6>關於我們</h6>
              <div class="footer__social">
                <!-- @這裡也還不知道要連去哪裡... -->
                <a href="#">網站介紹<i></i></a>
                <br />
                <a href="#">履歷<i></i></a>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-9 col-sm-12">
            <div class="footer__widget">
              <h6>好食光</h6>
              <ul>
                <li>指導老師：</li>
                <li>吳永志老師 &nbsp; | &nbsp; 吳冠宏老師</li>
                <li>張互賓老師 &nbsp; | &nbsp; 馬全德老師</li>
                <li>郭惠民老師 &nbsp; | &nbsp; 陳怡榕老師</li>
                <li>組員 :</li>
                <li>陳宜瀅 &nbsp; | &nbsp; 張家銘 &nbsp; | &nbsp; 楊婕妤</li>
                <li>游育碩 &nbsp; | &nbsp; 黃郁婕</li>
                <li>李佳欣 &nbsp; | &nbsp; 余可凡</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="copyright">
      <div class="container">
        <div class="row">
          <div class="col-lg-7">
            <p class="copyright__text text-white">
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved | This template is made with
              <i class="fa fa-heart" aria-hidden="true"></i> by
              <a href="https://colorlib.com" target="_blank">Colorlib</a>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
          </div>
          <div class="col-lg-5">
            <div class="copyright__widget">
              <ul>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms & Conditions</a></li>
                <li><a href="#">Site Map</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!-- Footer Section End -->

  <!-- Search Begin -->
  <div class="search-model">
    <div class="h-100 d-flex align-items-center justify-content-center">
      <div class="search-close-switch">+</div>
      <form class="search-model-form">
        <input type="text" id="search-input" placeholder="Search here....." />
      </form>
    </div>
  </div>
  <!-- Search End -->

  <!-- Js Plugins -->
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.nice-select.min.js"></script>
  <script src="js/jquery.barfiller.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/jquery.slicknav.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.nicescroll.min.js"></script>
  <script src="js/main.js"></script>
  <!-- <script src="js/alice_admin2_membership_management_page.js"></script> -->
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


  <script> // GET
    // const shipData = document.querySelector('#shipData')
    const URL = 'http://localhost:8080/adOrders/admin'
    let resData = [];
    // 抓登入session手動比對編號
    var adminNoLogin = sessionStorage.getItem("adminVO")
    if (adminNoLogin == 'res_A_11') {
      adminNoLogin = 1
    } else if (adminNoLogin == 'res_A_12') {
      adminNoLogin = 2
    } else {
      adminNoLogin = 3
    }
    // 抽換資料
    const template = (order_no, rest_no, adminNo, orderTime, startTime, endTime, price, verified, verified_detail) => {
      return `<tr align="center">
                <td id="orderNo${order_no}" >
                  <div class="d-flex justify-content-center">
                    ${order_no}
                  </div>
                  <div class="d-none">
                    <input class="w-100" type="date" name="" id="">
                  </div>
                </td>
                <td id="restaurantNo${order_no}">${rest_no}</td>
                <td id="adminNo${order_no}" >
                  <div class="d-flex justify-content-center" id="original_adminNo${order_no}">
                    ${!!adminNo == 0 ? '-' : adminNo}
                  </div>
                  <div id="select_adminNo_div${order_no}" class="d-none justify-content-center">
                    <input id="select_adminNo${order_no}" type="checkbox" value="">
                    <label for="select_adminNo${order_no}"></label>
                  </div>
                </td>
                <td>${orderTime}</td>
                <td id="startTime${order_no}" >
                  <div class="d-flex justify-content-center" id="ori_startTime${order_no}">
                    ${startTime}
                  </div>
                  <div class="d-none">
                    <input class="w-100" type="date" name="" id="startDate${order_no}">
                  </div>
                </td>
                <td id="endTime${order_no}" >
                  <div class="d-flex justify-content-center" id="ori_endTime${order_no}">
                    ${endTime}
                  </div>
                  <div class="d-none">
                    <input class="w-100" type="date" name="" id="endDate${order_no}" value="" disabled>
                  </div>
                </td>
                <td id="price${order_no}" >${price}</td>
                <td id="verified${order_no}" >
                  <div class="d-flex justify-content-center" id="original_verified${order_no}">${!!verified ? '審核通過' : '尚未審核'}</div>
                  <div class="d-none" id="new_verified_div${order_no}">
                    <input id="new_verified${order_no}" type="checkbox" value="">審核通過
                  </div>
                </td>
                <td id="verified_detail${order_no}">
                  <div id="original_verified_detail${order_no}" class="d-flex justify-content-center">${verified_detail === null ? '-' : verified_detail}</div>
                  <div id="new_verified_detail_div${order_no}" class="d-none">
                    <input id="new_verified_detail${order_no}" type="text" value="">
                  </div>
                </td>
                <td>
                  <div class="row">
                    <div class="col-12">
                      <input type="button" id="btnEdit${order_no}" class="btn btn-light edit_btn d-inline-flex" value="編輯" onclick="showButtonEvent()"
                        style="width: auto; padding:2px; border-radius: 8px; box-shadow: 3px 3px 1px #FFD382;">
                    </div>
                    <div class="col-12 d-block">
                      <button id="btnDelete${order_no}" type="button" class="btn btn-light d-none" onclick="deleteOrder()"
                      style="width: auto; padding:2px; border-radius: 8px; box-shadow: 3px 3px 1px #111111;">刪除</button>
                    </div>
                  </div>
                </td>
              </tr>`
    }

    const init = async () => {
      // table
      const shipData = document.querySelector('#shipData')
      // GET
      await fetch(URL, { redirect: "follow" }).then((r) => {
        console.log("是否重導向" + r.redirected)
        console.log(r.url)
        var redirect_URL = r.url;
        if (r.redirected) {
          swal({
            title: "",
            text: "請先登入",
            icon: "warning",
            button: "OK",
            timer: 1000,
          })
          setTimeout(function () {
            sessionStorage.setItem("res_login", window.location.assign(redirect_URL))
            console.log("執行重導向成功");
          }, 1000)
        } else {
          return r.json().then((data) => {
            resData = data
            shipData.innerHTML = data.map(({
              adOrderNo,
              restaurantNo,
              adminNo,
              adOrderTime,
              adStartTime,
              adEndTime,
              adOrderPrice,
              verified,
              verificationDetail
            }) => template(adOrderNo,
              restaurantNo,
              adminNo,
              adOrderTime,
              adStartTime,
              adEndTime,
              adOrderPrice,
              verified,
              verificationDetail)).join('')
          });
        }
      })

      // get btn
      const onEdit = document.querySelectorAll('.edit_btn')
      onEdit.forEach((btn, index) => {
        btn.onclick = () => { // 點選編輯按鈕
          let { adOrderNo } = resData[index]
          // 點擊變更-> 編輯(顯示刪除)) or 確認(隱藏刪除))
          let edit_btn = document.querySelector(`#btnEdit${adOrderNo}`)
          edit_btn.value = edit_btn.value === '編輯' ? '確認' : '編輯';
          let delete_btn = document.querySelector(`#btnDelete${adOrderNo}`)
          delete_btn.className = edit_btn.value === '編輯' ? 'btn btn-light d-none' : 'btn btn-light d-flex';
          // 管理員編號
          let original_adminNo = document.querySelector(`#original_adminNo${adOrderNo}`)
          let select_adminNo = document.querySelector(`#select_adminNo${adOrderNo}`)
          select_adminNo.value = adminNoLogin
          select_adminNo.innerHTML = adminNoLogin
          document.querySelector(`#select_adminNo_div${adOrderNo}>label`).innerText = adminNoLogin
          let select_adminNo_div = document.querySelector(`#select_adminNo_div${adOrderNo}`)
          // select_adminNo_div.append.innerText = adminNoLogin
          // 審核狀態
          let original_verified = document.querySelector(`#original_verified${adOrderNo}`)
          let new_verified_div = document.querySelector(`#new_verified_div${adOrderNo}`)
          // 審核資訊
          let original_verified_detail = document.querySelector(`#original_verified_detail${adOrderNo}`)
          let new_verified_detail_div = document.querySelector(`#new_verified_detail_div${adOrderNo}`)

          // 判斷是否審核 -> 進行編輯、刪除
          let verify = document.querySelectorAll(`#verified${adOrderNo} > div`)
          if (verify[0].innerHTML === '尚未審核') {
            // 審核狀態
            original_verified.className = edit_btn.value === '編輯' ? 'd-flex justify-content-center' : 'd-none justify-content-center';
            new_verified_div.className = edit_btn.value === '編輯' ? 'd-none' : 'd-flex';
            if (original_adminNo.innerText === '-') {
              // 管理員編號
              original_adminNo.className = edit_btn.value === '編輯' ? 'd-flex justify-content-center' : 'd-none justify-content-center';
              select_adminNo_div.className = edit_btn.value === '編輯' ? 'd-none justify-content-center' : 'd-flex justify-content-center';
            } else {
              original_adminNo.className = 'd-flex justify-content-center';
              select_adminNo_div.className = 'd-none justify-content-center';
              // original_verified.className = 'd-flex justify-content-center';
              // new_verified_div.className = 'd-none';
            }
            // 編輯審核資訊
            if (original_verified_detail.innerText === '-') {
              original_verified_detail.className = edit_btn.value === '編輯' ? 'd-flex justify-content-center' : 'd-none justify-content-center';
              new_verified_detail_div.className = edit_btn.value === '編輯' ? 'd-none' : 'd-flex';
            } else {
              original_verified_detail.className = 'd-flex justify-content-center';
              new_verified_detail_div.className = 'd-none';
            }
          } else {
            alert('已審核通過，無法修改訂單')
            edit_btn.value = '編輯';
            delete_btn.className = 'btn btn-light d-none';
          }




          // 點擊確認 -> PUT
          const URL_PUT = 'http://localhost:8080/adOrders/admin'; // {adOrderNo}
          if (edit_btn.value === '確認') {
            edit_btn.onclick = () => {
              // 訂單編號
              let editItem = parseInt(document.querySelectorAll(`#orderNo${adOrderNo} > div`)[0].innerHTML.trim());
              // 餐廳編號
              let res_No = parseInt(document.querySelectorAll(`#restaurantNo2`)[0].innerHTML);
              // 管理員編號
              let check_admin_btn = document.querySelector(`#select_adminNo${adOrderNo}`)
              if (!document.querySelector(`#select_adminNo${adOrderNo}`).checked) {
                check_admin_btn.setAttribute("value", "")
              }
              // document.querySelector(`#select_adminNo${adOrderNo}`).checked ? check_admin_btn.value : check_admin_btn.setAttribute("value", "");
              let admin_put = parseInt(check_admin_btn.value)
              // 審核狀態
              let check_verified_btn = document.querySelector(`#new_verified${adOrderNo}`)
              document.querySelector(`#new_verified${adOrderNo}`).checked ? check_verified_btn.setAttribute("value", "true") : check_verified_btn.setAttribute("value", "");
              let verified_put = check_verified_btn.value
              // 審核內容
              let verified_detail_put = document.querySelector(`#new_verified_detail${adOrderNo}`).value
              // 開始時間
              let startDateForPUT = (document.getElementById(`ori_startTime${adOrderNo}`).innerText);
              // 結束時間
              let endDateForPUT = (document.getElementById(`ori_endTime${adOrderNo}`).innerText);
              // 價格
              let priceForPUT = parseInt(document.getElementById(`price${adOrderNo}`).innerText);

              if (admin_put != '' && verified_put === 'true' && verified_detail_put != null) {
                if (confirm('確定修改訂單?')) {
                  swal({
                    title: "",
                    text: "已成功修改訂單",
                    icon: "success",
                    button: "OK",
                  });
                  const editOrder = endpoint => {
                    fetch(`${URL_PUT}/${endpoint}`, {
                      method: 'PUT',
                      redirect: "follow",
                      headers: { 'Content-type': 'application/json' },
                      body: JSON.stringify({
                        adOrderNo: editItem,
                        adminNo: admin_put,
                        restaurantNo: res_No,
                        adStartTime: startDateForPUT,
                        adEndTime: endDateForPUT,
                        adOrderPrice: priceForPUT,
                        verified: verified_put,
                        verificationDetail: verified_detail_put,
                        // slideshowPicBase64: [base64]
                      })
                    }).then((r) => {
                      console.log("是否重導向" + r.redirected)
                      console.log(r.url)
                      var redirect_URL = r.url
                      if (r.redirected) {
                        swal({
                          title: "",
                          text: "請先登入",
                          icon: "warning",
                          button: "OK",
                          timer: 1000,
                        })
                        setTimeout(function () {
                          sessionStorage.setItem("res_login", window.location.assign(redirect_URL))
                          console.log("執行重導向成功");
                        }, 1000)
                      } else {
                        return r.json().then((data) => {
                          console.log(data); setTimeout(function () {
                            location.reload();
                          }, 1500);
                        })
                      }
                    })
                  }
                  editOrder(editItem);
                } else {
                  swal("已取消修改訂單。", "", "info");
                  setTimeout(function () {
                    location.reload();
                  }, 1500);
                }
              } else {
                alert('資料未正確被修改，請再次確認或取消修改訂單。')
                location.reload();
              }
            }
          }

          // 點擊刪除 -> DELETE
          let deleteItem = parseInt(document.querySelectorAll(`#orderNo${adOrderNo} > div`)[0].innerHTML.trim())
          console.log(deleteItem)
          deleteOrder = () => {
            if (confirm('確定要刪除訂單?')) {
              swal("已成功刪除訂單。", "", "warning");
              setTimeout(function () {
                location.reload();
              }, 1500);
              deleteData(deleteItem);
            } else {
              alert('已取消刪除訂單。')
              location.reload();
            }
          }
          const URL_DELETE = "http://localhost:8080/adOrders"; // {adOrderNo}
          const deleteData = endpoint => {
            fetch(`${URL_DELETE}/${endpoint}`, {
              method: 'DELETE'
            })
              .then(response => response.json())
              .then(data => console.log(data), setTimeout(function () {
                location.reload();
              }, 1500));
          }
        }
      })
    }
    window.onload = init
  </script>
</body>

</html>